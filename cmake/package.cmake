
include(InstallRequiredSystemLibraries)

set (CPACK_PACKAGE_DESCRIPTION_SUMMARY "Compiz")
set (CPACK_PACKAGE_VENDOR "Compiz")
set (CPACK_PACKAGE_VERSION "${VERSION}")
set (CPACK_SOURCE_PACKAGE_FILE_NAME "${PROJECT_NAME}-${VERSION}")

set (CPACK_SOURCE_GENERATOR "TGZ;TBZ2")
set (CPACK_SOURCE_IGNORE_FILES  "\\\\.#;/#;.*~")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/\\\\.git")
list (APPEND CPACK_SOURCE_IGNORE_FILES "${CMAKE_CURRENT_BINARY_DIR}")
list (APPEND CPACK_SOURCE_IGNORE_FILES "Makefile")
list (APPEND CPACK_SOURCE_IGNORE_FILES "Makefile\\\\..*")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/autom4te.cache")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/aclocal.m4$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/autogen.sh$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "\\\\.pc$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/config.*[^(\\\\.in)]$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/depcomp$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/install-sh$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/intltool*")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/libtool$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/ltmain.sh$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/missing$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/mkinstalldirs$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/stamp-h1$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "m4/")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/metadata/.*\\\\.xml$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/gtk/.*\\\\.xml$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "\\\\.intltool-merge-cache")
list (APPEND CPACK_SOURCE_IGNORE_FILES "\\\\.deps")
list (APPEND CPACK_SOURCE_IGNORE_FILES "\\\\.libs")
list (APPEND CPACK_SOURCE_IGNORE_FILES "\\\\.lo$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "\\\\.o$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "\\\\.la$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "\\\\.gmo$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/po/POTFILES$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "compiz\\\\.pot$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "metadata/.*\\\\.schemas$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "\\\\.desktop$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "metadata/.*\\\\..kcfg$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "metadata/compizrc$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "\\\\.moc\\\\.cpp$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/gtk-window-decorator$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/kde-window-decorator$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "/kde4-window-decorator$")
list (APPEND CPACK_SOURCE_IGNORE_FILES "CMakeCache.txt")
list (APPEND CPACK_SOURCE_IGNORE_FILES "CMakeFiles")
include(CPack)

file (REMOVE "${CMAKE_BINARY_DIR}/CPackConfig.cmake")
!!ARBfp1.0
TEMP tex, temp, black, white;
MOV black, {0, 0, 0, 0};
MOV white, {1, 1, 1, 1};
TEX tex, fragment.texcoord[0], texture[0], RECT;
ADD temp.x, tex.r, tex.b;
ADD temp.x, temp.x, tex.g;
MAD temp.x, temp.x, 0.333, -0.5;
CMP temp, temp.x, black, white;
MOV temp.a, tex.a;
MOV result.color, temp;
END
